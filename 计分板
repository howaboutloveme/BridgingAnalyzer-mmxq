import org.bukkit.Bukkit;
import org.bukkit.ChatColor;
import org.bukkit.entity.Player;
import org.bukkit.plugin.java.JavaPlugin;
import org.bukkit.event.EventHandler;
import org.bukkit.event.Listener;
import org.bukkit.event.player.PlayerJoinEvent;
import org.bukkit.event.player.PlayerQuitEvent;
import org.bukkit.scoreboard.*;

public class Lmcboard extends JavaPlugin implements Listener {

    private ScoreboardManager scoreboardManager;
    private Scoreboard scoreboard;
    private Objective objective;

    @Override
    public void onEnable() {
        // 初始化ScoreboardManager
        scoreboardManager = Bukkit.getScoreboardManager();
        scoreboard = scoreboardManager.getNewScoreboard();

        // 创建Objective
        objective = scoreboard.registerNewObjective("", "dummy");
        objective.setDisplayName(ChatColor.AQUA + "猫猫星球｜Lunchmc");
        objective.setDisplaySlot(DisplaySlot.SIDEBAR);

        // 注册事件监听器（自身）
        getServer().getPluginManager().registerEvents(this, this);

        // 设置所有现有玩家的计分板
        for (Player player : Bukkit.getOnlinePlayers()) {
            Score score = objective.getScore(player.getName());
            score.setScore(1); // 设置初始分数
            player.setScoreboard(scoreboard);
        }
    }

    @Override
    public void onDisable() {
        // 清理资源
        for (Player player : Bukkit.getOnlinePlayers()) {
            player.setScoreboard(Bukkit.getScoreboardManager().getMainScoreboard());
        }
    }

    // 事件处理
    @EventHandler
    public void onPlayerJoin(PlayerJoinEvent event) {
        Player player = event.getPlayer();
        Score score = objective.getScore(player.getName());
        score.setScore(1); // 设置初始分数
        player.setScoreboard(scoreboard);
    }

    @EventHandler
    public void onPlayerQuit(PlayerQuitEvent event) {
        Player player = event.getPlayer();
        player.setScoreboard(Bukkit.getScoreboardManager().getMainScoreboard());
    }
}










import org.bukkit.Bukkit;
import org.bukkit.ChatColor;
import org.bukkit.event.EventHandler;
import org.bukkit.event.Listener;
import org.bukkit.event.player.PlayerJoinEvent;
import org.bukkit.plugin.java.JavaPlugin;
import org.bukkit.scoreboard.DisplaySlot;
import org.bukkit.scoreboard.Objective;
import org.bukkit.scoreboard.Scoreboard;
import org.bukkit.scoreboard.Team;

public class CatScoreboardPlugin extends JavaPlugin implements Listener {

    private Scoreboard board;
    private Objective obj;
    private Team team;

    @Override
    public void onEnable() {
        saveDefaultConfig();
        reloadConfig();
        board = Bukkit.getScoreboardManager().getNewScoreboard();
        obj = board.registerNewObjective("catPlanet", "dummy");
        obj.setDisplaySlot(DisplaySlot.SIDEBAR);
        obj.setDisplayName(getConfig().getString("scoreboard.title", "猫猫星球")); // 默认标题为“猫猫星球”

        team = board.registerNewTeam("teamWelcome");
        team.setPrefix(getConfig().getString("scoreboard.content", "欢迎游玩")); // 默认内容为“欢迎游玩”

        getServer().getPluginManager().registerEvents(this, this);
    }

    @EventHandler
    public void onPlayerJoin(PlayerJoinEvent event) {
        team.addEntry(event.getPlayer().getName());
        event.getPlayer().setScoreboard(board);
    }

    @Override
    public void onDisable() {
        // Cleanup if necessary
    }
}
```

### 第四步：配置文件

在插件的`config.yml`文件中添加以下内容：

```yaml
scoreboard:
  title: "猫猫星球"
  content: "欢迎游玩"